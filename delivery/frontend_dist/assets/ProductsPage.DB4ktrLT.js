import{u as e,r as s,j as t,a5 as r,X as a,A as l,a6 as n}from"./react-vendor.B-6_bSeD.js";import{A as c,a as i}from"./index.CiTXjkB3.js";import{P as o,a as d}from"./ProductSkeleton.Dxu8a43S.js";import{g as x}from"./api.PPy2Mpfq.js";import"./vendor.CIrfaz5f.js";import"./utils-vendor.CnGjioV-.js";import"./i18n-vendor.C0y6bc4v.js";const m=({onSearch:r})=>{const{t:a}=e(),[l,n]=s.useState(""),[i,o]=s.useState(null),[d,m]=s.useState(!1),[u,g]=s.useState(!1),[h,p]=s.useState([]),b=s.useRef(null),f=[a("search.suggestion1","Ú¯ÙˆØ´ÛŒ Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Ø²ÛŒØ± 20 Ù…ÛŒÙ„ÛŒÙˆÙ†"),a("search.suggestion2","Ù„Ù¾ ØªØ§Ù¾ Ú¯ÛŒÙ…ÛŒÙ†Ú¯ ØªØ§ 40 Ù…ÛŒÙ„ÛŒÙˆÙ†"),a("search.suggestion3","Ù‡Ø¯ÙÙˆÙ† Ø¨ÛŒâ€ŒØ³ÛŒÙ… Ø¨Ø§ Ú©ÛŒÙÛŒØª"),a("search.suggestion4","Ø³Ø§Ø¹Øª Ø§Ù¾Ù„ Ø¨Ø§ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨"),a("search.suggestion5","ØªØ¨Ù„Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ùˆ ØªÙØ±ÛŒØ­")];s.useEffect(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),s.useEffect(()=>{if(l.trim()){const e=f.filter(e=>e.toLowerCase().includes(l.toLowerCase()));p(e.slice(0,5))}else p([])},[l]);const j=async e=>{if(e.trim()){m(!0),g(!0);try{const s=await fetch(x(c.ENDPOINTS.PRODUCTS.SMART_SEARCH),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const t=await s.json();o(t),r&&r(t.results,e)}catch(s){const e={results:[],explanation:a("search.error_message","Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ø®Ø·Ø§ÛŒÛŒ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¬Ø³ØªØ¬Ùˆ Ø±Ø® Ø¯Ø§Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯."),extracted_filters:{},total_results:0};o(e),r&&r(e.results)}finally{m(!1)}}},y=e=>new Intl.NumberFormat("fa-IR").format(e);return t.jsx("div",{className:"w-full max-w-3xl mx-auto",ref:b,children:t.jsxs("form",{onSubmit:e=>{e.preventDefault(),j(l)},className:"relative",children:[t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",value:l,onChange:e=>n(e.target.value),placeholder:a("search.placeholder","Ø¬Ø³ØªØ¬ÙˆÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù…Ø­ØµÙˆÙ„Ø§Øª... (Ù…Ø«Ù„Ø§Ù‹ 'Ú¯ÙˆØ´ÛŒ Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Ø²ÛŒØ± 20 Ù…ÛŒÙ„ÛŒÙˆÙ†')"),className:"flex-1 p-4 pr-12 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white dark:border-gray-600",onFocus:()=>l&&g(!0)}),t.jsx("button",{type:"submit",disabled:d,className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-6 rounded-r-lg hover:from-orange-600 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50",children:d?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a("search.loading","Ø¬Ø³ØªØ¬Ùˆ")]}):a("search.submit","Ø¬Ø³ØªØ¬Ùˆ")})]}),l&&h.length>0&&!d&&!i&&t.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto dark:bg-gray-800 dark:border-gray-700",children:h.map((e,s)=>t.jsx("div",{className:"p-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white",onClick:()=>(e=>{n(e),j(e)})(e),children:e},s))}),u&&(i||d)&&t.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto dark:bg-gray-800 dark:border-gray-700",children:d?t.jsx("div",{className:"p-4 flex justify-center items-center",children:t.jsxs("svg",{className:"animate-spin h-6 w-6 text-orange-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):i&&t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"mb-3 text-sm text-gray-600 dark:text-gray-300",children:i.explanation}),Object.keys(i.extracted_filters).length>0&&t.jsxs("div",{className:"mb-3 text-xs text-gray-500 dark:text-gray-400 flex flex-wrap gap-1",children:[i.extracted_filters.max_price&&t.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded",children:["ØªØ§ ",y(i.extracted_filters.max_price)," ØªÙˆÙ…Ø§Ù†"]}),i.extracted_filters.brand&&t.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:i.extracted_filters.brand}),i.extracted_filters.category&&t.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded",children:i.extracted_filters.category})]}),t.jsx("div",{className:"space-y-3",children:0===i.results.length?t.jsx("div",{className:"text-center py-4 text-gray-500",children:a("search.no_results","Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯")}):i.results.map(e=>{var s;return t.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 dark:border-gray-600",children:[e.image_url?t.jsx("img",{src:e.image_url,alt:e.title_en,className:"w-16 h-16 object-contain rounded mr-3"}):t.jsx("div",{className:"w-16 h-16 bg-gray-200 border-2 border-dashed rounded-xl mr-3"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-medium text-gray-900 truncate dark:text-white",children:e.title_en}),t.jsxs("p",{className:"text-sm text-gray-500 truncate dark:text-gray-400",children:[null==(s=e.description_en)?void 0:s.substring(0,60),"..."]}),t.jsxs("div",{className:"mt-1 flex items-center",children:[t.jsxs("span",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:[y(e.price)," ØªÙˆÙ…Ø§Ù†"]}),void 0!==e.discount&&e.discount>0&&t.jsxs("span",{className:"ml-2 text-sm text-red-500 line-through",children:[y(e.price+e.price*e.discount/100)," ØªÙˆÙ…Ø§Ù†"]}),e.rating&&t.jsxs("span",{className:"ml-2 text-sm text-yellow-500",children:["â­ ",e.rating.toFixed(1)]})]})]})]},e.id)})})]})})]})})},u=({component:r,legacyProps:a={},className:l=""})=>{const{t:n}=e(),[c,i]=s.useState(!0);return t.jsxs("div",{className:`legacy-wrapper ${l}`,children:[t.jsx("div",{className:"legacy-toggle",children:t.jsx("button",{onClick:()=>{i(!c)},className:"toggle-btn "+(c?"legacy-active":"new-active"),children:c?n("common.use_legacy","Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø³Ø®Ù‡ Ù‚Ø¯ÛŒÙ…ÛŒ"):n("common.use_new","Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯")})}),c?t.jsx("div",{className:"legacy-notice",children:t.jsx("p",{children:n("common.legacy_notice","Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø³Ø®Ù‡ Ù‚Ø¯ÛŒÙ…ÛŒ")})}):t.jsx("div",{className:"new-features",children:t.jsx("p",{children:n("common.new_features","ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ ÙØ¹Ø§Ù„ Ø§Ø³Øª")})}),t.jsx(r,{...a})]})},g=({onSearch:e})=>{const[r,a]=s.useState(""),[l,n]=s.useState(null),[i,o]=s.useState(!1),[d,m]=s.useState(!1),[u,g]=s.useState([]),h=s.useRef(null),p=["Ú¯ÙˆØ´ÛŒ Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Ø²ÛŒØ± 20 Ù…ÛŒÙ„ÛŒÙˆÙ†","Ù„Ù¾ ØªØ§Ù¾ Ú¯ÛŒÙ…ÛŒÙ†Ú¯ ØªØ§ 40 Ù…ÛŒÙ„ÛŒÙˆÙ†","Ù‡Ø¯ÙÙˆÙ† Ø¨ÛŒâ€ŒØ³ÛŒÙ… Ø¨Ø§ Ú©ÛŒÙÛŒØª","Ø³Ø§Ø¹Øª Ø§Ù¾Ù„ Ø¨Ø§ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨","ØªØ¨Ù„Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ùˆ ØªÙØ±ÛŒØ­"];s.useEffect(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),s.useEffect(()=>{if(r.trim()){const e=p.filter(e=>e.toLowerCase().includes(r.toLowerCase()));g(e.slice(0,5))}else g([])},[r]);const b=async s=>{if(s.trim()){o(!0),m(!0);try{const t=await fetch(x(c.ENDPOINTS.PRODUCTS.SMART_SEARCH),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();n(r),e&&e(r.results,s)}catch(t){const s={results:[],explanation:"Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ø®Ø·Ø§ÛŒÛŒ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¬Ø³ØªØ¬Ùˆ Ø±Ø® Ø¯Ø§Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.",extracted_filters:{},total_results:0};n(s),e&&e(s.results)}finally{o(!1)}}},f=e=>new Intl.NumberFormat("fa-IR").format(e);return t.jsx("div",{className:"w-full max-w-3xl mx-auto",ref:h,children:t.jsxs("form",{onSubmit:e=>{e.preventDefault(),b(r)},className:"relative",children:[t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Ø¬Ø³ØªØ¬ÙˆÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù…Ø­ØµÙˆÙ„Ø§Øª... (Ù…Ø«Ù„Ø§Ù‹ 'Ú¯ÙˆØ´ÛŒ Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Ø²ÛŒØ± 20 Ù…ÛŒÙ„ÛŒÙˆÙ†')",className:"flex-1 p-4 pr-12 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white dark:border-gray-600",onFocus:()=>r&&m(!0)}),t.jsx("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:i?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Ø¬Ø³ØªØ¬Ùˆ"]}):"Ø¬Ø³ØªØ¬Ùˆ"})]}),r&&u.length>0&&!i&&!l&&t.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto dark:bg-gray-800 dark:border-gray-700",children:u.map((e,s)=>t.jsx("div",{className:"p-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white",onClick:()=>(e=>{a(e),b(e)})(e),children:e},s))}),d&&(l||i)&&t.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto dark:bg-gray-800 dark:border-gray-700",children:i?t.jsx("div",{className:"p-4 flex justify-center items-center",children:t.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):l&&t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"mb-3 text-sm text-gray-600 dark:text-gray-300",children:l.explanation}),Object.keys(l.extracted_filters).length>0&&t.jsxs("div",{className:"mb-3 text-xs text-gray-500 dark:text-gray-400 flex flex-wrap gap-1",children:[l.extracted_filters.max_price&&t.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["ØªØ§ ",f(l.extracted_filters.max_price)," ØªÙˆÙ…Ø§Ù†"]}),l.extracted_filters.brand&&t.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:l.extracted_filters.brand}),l.extracted_filters.category&&t.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded",children:l.extracted_filters.category})]}),t.jsx("div",{className:"space-y-3",children:0===l.results.length?t.jsx("div",{className:"text-center py-4 text-gray-500",children:"Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"}):l.results.map(e=>{var s;return t.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 dark:border-gray-600",children:[e.image_url?t.jsx("img",{src:e.image_url,alt:e.title,className:"w-16 h-16 object-contain rounded mr-3"}):t.jsx("div",{className:"w-16 h-16 bg-gray-200 border-2 border-dashed rounded-xl mr-3"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-medium text-gray-900 truncate dark:text-white",children:e.title}),t.jsxs("p",{className:"text-sm text-gray-500 truncate dark:text-gray-400",children:[null==(s=e.description)?void 0:s.substring(0,60),"..."]}),t.jsxs("div",{className:"mt-1 flex items-center",children:[t.jsxs("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:[f(e.price)," ØªÙˆÙ…Ø§Ù†"]}),e.discount_price&&e.discount_price<e.price&&t.jsxs("span",{className:"ml-2 text-sm text-red-500 line-through",children:[f(e.price)," ØªÙˆÙ…Ø§Ù†"]}),e.rating&&t.jsxs("span",{className:"ml-2 text-sm text-yellow-500",children:["â­ ",e.rating.toFixed(1)]})]})]})]},e.id)})})]})})]})})},h=({className:s="",useLegacy:r=!1,onSearch:a})=>{const{t:l}=e();return t.jsx("div",{className:`multilingual-smart-search-bar ${s}`,children:r?t.jsx(u,{component:g,legacyProps:{onSearch:a}}):t.jsxs("div",{className:"new-search-features",children:[t.jsx("div",{className:"feature-notice",children:t.jsxs("span",{children:["âœ¨ ",l("common.new_features_notice","ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ ÙØ¹Ø§Ù„ Ø§Ø³Øª")]})}),t.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:l("search.new_title","Ø¬Ø³ØªØ¬ÙˆÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¬Ø¯ÛŒØ¯")}),t.jsx("p",{children:l("search.new_description","Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯ Ø´Ø§Ù…Ù„ ØªÙ…Ø§Ù… ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø§Ø³Øª")})]})]})})},p=({onFilterChange:l,onClearFilters:n,isOpen:c,onToggle:i})=>{const{t:o}=e(),[d,x]=s.useState(""),[m,u]=s.useState(""),g=""!==d||""!==m;return t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:i,className:"lg:hidden fixed bottom-6 right-6 z-40 btn-primary p-4 rounded-full shadow-2xl","aria-label":"Toggle filters",children:[t.jsx(r,{className:"w-6 h-6"}),g&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:"!"})]}),c&&t.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:i}),t.jsx("aside",{className:`\n          fixed lg:sticky top-0 left-0 h-screen lg:h-auto\n          w-80 lg:w-auto\n          bg-white/95 dark:bg-gray-900/95 lg:bg-transparent\n          backdrop-blur-xl lg:backdrop-blur-none\n          border-r lg:border-r-0 border-gray-200 dark:border-gray-800\n          z-50 lg:z-auto\n          transform transition-transform duration-300 ease-in-out\n          ${c?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n        `,children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(r,{className:"w-5 h-5 text-orange-500"}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:o("filters.filters")}),g&&t.jsx("span",{className:"badge-orange text-xs",children:o("filters.active")})]}),t.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors","aria-label":"Close filters",children:t.jsx(a,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"glass-card p-6 space-y-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:o("filters.priceRange")}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("filters.minPrice")}),t.jsx("input",{type:"number",value:d,onChange:e=>x(e.target.value),placeholder:o("filters.placeholderMin"),min:"0",step:"1",className:"input-field"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("filters.maxPrice")}),t.jsx("input",{type:"number",value:m,onChange:e=>u(e.target.value),placeholder:o("filters.placeholderMax"),min:"0",step:"1",className:"input-field"})]}),t.jsxs("div",{className:"pt-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[t.jsxs("span",{children:["$",d||"0"]}),t.jsxs("span",{children:["$",m||"âˆž"]})]}),t.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-600 rounded-full"})})]}),t.jsx("button",{onClick:()=>{const e=d?parseFloat(d):void 0,s=m?parseFloat(m):void 0;l(e,s)},className:"btn-primary w-full",disabled:!g,children:o("filters.applyFilters")})]}),g&&t.jsxs("button",{onClick:()=>{x(""),u(""),n()},className:"w-full btn-glass text-red-500 dark:text-red-400 border-red-500/20",children:[t.jsx(a,{className:"w-4 h-4 inline mr-2"}),o("filters.clearAll")]}),t.jsx("div",{className:"glass p-4 rounded-2xl",children:t.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:[t.jsx("strong",{className:"text-orange-500",children:o("filters.tip")})," ",o("filters.priceFilterTip")]})})]})})]})},b=({icon:e="ðŸ“¦",title:s,message:r,actionLabel:a,onAction:l,iconComponent:n})=>t.jsx("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:t.jsxs("div",{className:"glass-card p-12 max-w-md w-full text-center",children:[t.jsx("div",{className:"mb-6 animate-bounce-slow",children:n||t.jsx("div",{className:"text-7xl opacity-50",children:e})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:s}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:r}),a&&l&&t.jsx("button",{onClick:l,className:"btn-primary",children:a})]})}),f=()=>{const{t:r}=e(),[a,c]=s.useState([]),[x,g]=s.useState(!0),[f,j]=s.useState(null),[y,N]=s.useState(""),[v,w]=s.useState(),[k,C]=s.useState(),[_,S]=s.useState(!1),[F,P]=s.useState(!1),T=s.useCallback(async e=>{g(!0),j(null);try{const s=void 0!==e?e:y,t=await i({search:s||void 0,minPrice:v,maxPrice:k});c(t)}catch(s){const e=s instanceof Error?s.message:r("products.loadError");j(e)}finally{g(!1)}},[y,v,k]);s.useEffect(()=>{T()},[T]);const A=s.useCallback((e,s)=>{w(e),C(s),S(!1)},[]),E=s.useCallback(()=>{w(void 0),C(void 0),N("")},[]),z=y||void 0!==v||void 0!==k;return t.jsxs("div",{className:"animate-fade-in",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-hero text-gradient-orange mb-4",children:r("products.title")}),t.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:r("products.subtitle")})]}),t.jsx("div",{className:"flex justify-center mb-8",children:t.jsx("button",{onClick:()=>P(!F),className:`px-6 py-3 rounded-lg ${F?"bg-orange-600":"bg-gradient-to-r from-orange-500 to-orange-600"} text-white font-medium hover:opacity-90 transition-opacity`,children:r(F?"common.use_legacy":"common.use_new")})}),t.jsx("div",{className:"max-w-3xl mx-auto mb-8",children:F?t.jsx(u,{component:h,legacyProps:{onSearch:(e,s)=>{c(e),s&&N(s)}}}):t.jsx(m,{onSearch:(e,s)=>{c(e),s&&N(s)}})}),t.jsxs("div",{className:"flex gap-8",children:[t.jsx(p,{onFilterChange:A,onClearFilters:E,isOpen:_,onToggle:()=>{S(!_)}}),t.jsxs("div",{className:"flex-1 min-w-0",children:[!x&&!f&&t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[t.jsx("span",{className:"font-semibold text-orange-500",children:a.length})," ",r(1===a.length?"products.productFound":"products.productsFound"),z&&t.jsxs("span",{className:"ml-2 text-sm",children:["(",r("products.filtered"),")"]})]}),z&&t.jsx("button",{onClick:E,className:"text-sm text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:r("products.clearAllFilters")})]}),x&&t.jsx(o,{count:6}),f&&!x&&t.jsx("div",{className:"text-center py-20",children:t.jsxs("div",{className:"glass-card p-12 max-w-md mx-auto",children:[t.jsx(l,{className:"w-16 h-16 text-red-500 mx-auto mb-6"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:r("products.errorTitle")}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:f}),t.jsxs("button",{onClick:()=>{T()},className:"btn-primary",children:[t.jsx(n,{className:"w-4 h-4 inline mr-2"}),r("products.tryAgain")]})]})}),!x&&!f&&0===a.length&&t.jsx(b,{icon:"ðŸ”",title:r(z?"products.noProductsFound":"products.noProductsAvailable"),message:r(z?"products.noProductsFoundMessage":"products.noProductsAvailableMessage"),actionLabel:z?r("products.clearFilters"):void 0,onAction:z?E:void 0}),!x&&!f&&a.length>0&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-slide-up",children:a.map((e,s)=>t.jsx("div",{className:"animate-fade-in",style:{animationDelay:50*s+"ms",animationFillMode:"backwards"},children:t.jsx(d,{product:e})},e.id))})]})]})]})};export{f as default};
