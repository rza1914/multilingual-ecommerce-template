import{u as e,a,r,j as t,al as s,w as d,b as l,ah as n,n as i,a1 as x,f as o}from"./react-vendor.B-6_bSeD.js";import{d as c}from"./index.CiTXjkB3.js";import{g as m,a as g,b as h}from"./admin.service.Bhn0xwxW.js";import"./vendor.CIrfaz5f.js";import"./utils-vendor.CnGjioV-.js";import"./i18n-vendor.C0y6bc4v.js";function b(){const{t:b}=e(),y=a(),{isAdmin:p,isAuthenticated:j}=c(),[u,N]=r.useState(null),[k,v]=r.useState([]),[w,f]=r.useState([]),[_,S]=r.useState(!0);r.useEffect(()=>{j&&p?D():y("/")},[j,p,y]);const D=async()=>{try{const[e,a,r]=await Promise.all([m(),g(5),h(7)]);N(e),v(a),f(r)}catch(e){}finally{S(!1)}},O=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return _?t.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b("admin.loadingDashboard")})]})})})}):u?t.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 bg-gray-50 dark:bg-gray-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:b("admin.dashboard")}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:b("admin.welcomeMessage")})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-lg border-2 border-gray-100 dark:border-gray-800 hover:border-orange-500/50 transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:t.jsx(s,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:b("admin.newThisMonth",{count:u.new_users_count})})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:u.total_users}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b("admin.totalUsers")})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-lg border-2 border-gray-100 dark:border-gray-800 hover:border-orange-500/50 transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:t.jsx(d,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:b("admin.active")})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:u.total_products}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b("admin.totalProducts")})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-lg border-2 border-gray-100 dark:border-gray-800 hover:border-orange-500/50 transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:t.jsx(l,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:b("admin.newThisMonth",{count:u.recent_orders_count})})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:u.total_orders}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b("admin.totalOrders")})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:t.jsx(n,{className:"w-6 h-6 text-white"})}),t.jsx("span",{className:"text-sm text-white/80",children:b("admin.revenueThisMonth",{amount:O(u.recent_revenue)})})]}),t.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:O(u.total_revenue)}),t.jsx("p",{className:"text-white/80",children:b("admin.totalRevenue")})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[t.jsxs("button",{onClick:()=>y("/admin/products"),className:"p-6 bg-white dark:bg-gray-900 rounded-2xl shadow-lg border-2 border-gray-100 dark:border-gray-800 hover:border-orange-500 transition-all text-left group",children:[t.jsx(d,{className:"w-8 h-8 text-orange-500 mb-3 group-hover:scale-110 transition-transform"}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:b("admin.manageProducts")}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b("admin.manageProductsDesc")})]}),t.jsxs("button",{onClick:()=>y("/admin/orders"),className:"p-6 bg-white dark:bg-gray-900 rounded-2xl shadow-lg border-2 border-gray-100 dark:border-gray-800 hover:border-orange-500 transition-all text-left group",children:[t.jsx(l,{className:"w-8 h-8 text-blue-500 mb-3 group-hover:scale-110 transition-transform"}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:b("admin.manageOrders")}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b("admin.manageOrdersDesc")})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-8",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-lg border-2 border-gray-100 dark:border-gray-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b("admin.revenueOverview")}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:b("admin.last7Days")})]}),t.jsx(i,{className:"w-6 h-6 text-orange-500"})]}),w.length>0?t.jsx("div",{className:"space-y-4",children:w.map((e,a)=>{const r=Math.max(...w.map(e=>e.revenue)),s=r>0?e.revenue/r*100:0;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),t.jsx("span",{className:"text-sm font-bold text-orange-500",children:O(e.revenue)})]}),t.jsx("div",{className:"h-8 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg transition-all duration-500",style:{width:`${s}%`}})}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:b("admin.ordersCount",{count:e.orders})})]},a)})}):t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:b("admin.noRevenueData")})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-lg border-2 border-gray-100 dark:border-gray-800",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:b("admin.ordersByStatus")}),t.jsx("div",{className:"space-y-4",children:Object.entries(u.orders_by_status).length>0?Object.entries(u.orders_by_status).map(([e,a])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-3 h-3 rounded-full "+("pending"===e?"bg-yellow-500":"processing"===e?"bg-blue-500":"shipped"===e?"bg-purple-500":"delivered"===e?"bg-green-500":"bg-red-500")}),t.jsx("span",{className:"text-gray-700 dark:text-gray-300 capitalize",children:b(`order.${e}`)})]}),t.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a})]},e)):t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:b("admin.noOrdersYet")})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-lg border-2 border-gray-100 dark:border-gray-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b("admin.recentOrders")}),t.jsxs("button",{onClick:()=>y("/admin/orders"),className:"flex items-center gap-2 text-orange-500 hover:text-orange-600 font-semibold transition-colors",children:[b("admin.viewAll"),t.jsx(x,{className:"w-4 h-4"})]})]}),k.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[t.jsx("th",{className:"text-left py-3 px-4 text-gray-600 dark:text-gray-400 font-semibold",children:b("admin.orderID")}),t.jsx("th",{className:"text-left py-3 px-4 text-gray-600 dark:text-gray-400 font-semibold",children:b("admin.customer")}),t.jsx("th",{className:"text-left py-3 px-4 text-gray-600 dark:text-gray-400 font-semibold",children:b("admin.date")}),t.jsx("th",{className:"text-left py-3 px-4 text-gray-600 dark:text-gray-400 font-semibold",children:b("admin.total")}),t.jsx("th",{className:"text-left py-3 px-4 text-gray-600 dark:text-gray-400 font-semibold",children:b("admin.status")}),t.jsx("th",{className:"text-left py-3 px-4 text-gray-600 dark:text-gray-400 font-semibold",children:b("admin.actions")})]})}),t.jsx("tbody",{children:k.map(e=>{return t.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[t.jsx("td",{className:"py-4 px-4",children:t.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["#",e.id.toString().padStart(6,"0")]})}),t.jsx("td",{className:"py-4 px-4 text-gray-700 dark:text-gray-300",children:e.full_name}),t.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400 text-sm",children:(r=e.created_at,new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),t.jsx("td",{className:"py-4 px-4",children:t.jsx("span",{className:"font-bold text-orange-500",children:O(e.total)})}),t.jsx("td",{className:"py-4 px-4",children:t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${a=e.status,{pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",processing:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",shipped:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",delivered:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}[a]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:b(`order.${e.status}`)})}),t.jsx("td",{className:"py-4 px-4",children:t.jsx("button",{onClick:()=>y(`/orders/${e.id}`),className:"p-2 text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-colors",children:t.jsx(o,{className:"w-5 h-5"})})})]},e.id);var a,r})})]})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(l,{className:"w-16 h-16 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:b("admin.noOrdersYet")})]})]})]})}):t.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:b("admin.failedToLoad")}),t.jsx("button",{onClick:D,className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-semibold hover:bg-orange-600",children:b("admin.retry")})]})})}export{b as default};
