import{u as a,r as e,j as r,q as s,s as t,b as o,o as l}from"./react-vendor.B-6_bSeD.js";import{u as i,b as n,c as d,P as c,f as g}from"./index.CiTXjkB3.js";const m=({product:m})=>{const{t:x}=a(),[u,h]=e.useState(!1),{addToCart:b}=i(),p=m.discount&&m.discount>0,j=Number(m.price)||0,v=Number(m.discount)||0,y=p?j*(1-v/100):j,f=Number(m.stock)||0,N=0===f,k=f>0&&f<10,w=a=>{a.stopPropagation(),N?alert(x("product.outOfStock")):b(m,1)},C=n(m,m.title_en),S=d(m,m.description_en);return r.jsx(r.Fragment,{children:r.jsx(s,{to:`/products/${m.id}`,className:"block",children:r.jsxs("div",{className:"glass-card group relative overflow-hidden will-change-transform tilt-3d",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[r.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/20 via-transparent to-orange-600/20 blur-xl"})}),r.jsxs("div",{className:"relative overflow-hidden rounded-t-3xl",children:[r.jsx(c,{src:m.image_url||"",alt:C,className:"w-full h-56 object-cover transition-transform duration-700 "+(u?"scale-110":"scale-100"),loading:"lazy",width:400,height:400}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent transition-opacity duration-300 "+(u?"opacity-100":"opacity-0")}),N&&r.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center",children:r.jsx("div",{className:"bg-red-500 text-white px-6 py-3 rounded-full font-bold shadow-2xl",children:x("product.outOfStock")})}),p&&!N&&r.jsxs("div",{className:"absolute top-4 right-4 badge-orange animate-pulse-slow",children:[r.jsx(t,{className:"w-3 h-3 mr-1"}),"-",v,"%"]}),m.is_featured&&r.jsxs("div",{className:"absolute top-4 left-4 badge-glass backdrop-blur-xl",children:["â­ ",x("product.featured")]}),k&&!N&&r.jsx("div",{className:"absolute bottom-4 left-4 bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:x("product.lowStock",{count:f})}),!N&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-all duration-300 "+(u?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:r.jsxs("button",{onClick:w,className:"btn-primary flex items-center gap-2 shadow-2xl",children:[r.jsx(o,{className:"w-5 h-5"}),x("product.addToCart")]})})]}),r.jsxs("div",{className:"p-6 relative z-10",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("span",{className:"badge-glass text-xs uppercase tracking-wider",children:m.category||"General"}),m.rating&&m.rating>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((a,e)=>r.jsx(l,{className:"w-4 h-4 "+(e<Math.floor(Number(m.rating)||0)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600")},e)),r.jsx("span",{className:"ml-1 text-sm font-medium text-gray-600 dark:text-gray-400",children:(Number(m.rating)||0).toFixed(1)})]})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 line-clamp-1 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:C}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-6 line-clamp-2 leading-relaxed",children:S}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"flex flex-col",children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-2xl font-bold text-gradient-orange",children:g(y)}),r.jsx("span",{className:"text-sm line-through text-gray-400 dark:text-gray-500",children:g(j)})]}):r.jsx("span",{className:"text-2xl font-bold text-gradient-orange",children:g(j)})}),r.jsx("button",{className:"glass-orange p-3 rounded-2xl hover:scale-110 transition-all duration-300 glow-orange group/btn "+(N?"opacity-50 cursor-not-allowed":""),onClick:w,disabled:N,"aria-label":"Add to cart",children:r.jsx(o,{className:"w-6 h-6 text-orange-600 dark:text-orange-400 group-hover/btn:text-orange-700 dark:group-hover/btn:text-orange-300 transition-colors"})})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-500/10 to-transparent rounded-bl-full opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})})},x=()=>r.jsxs("div",{className:"glass-card p-6 animate-pulse",children:[r.jsx("div",{className:"relative overflow-hidden rounded-2xl mb-4",children:r.jsx("div",{className:"aspect-square bg-gradient-to-r from-gray-200 via-orange-100 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 shimmer"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded-lg w-3/4 shimmer"}),r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded-lg w-full shimmer"}),r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded-lg w-5/6 shimmer"})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("div",{className:"h-8 bg-gradient-to-r from-orange-200 via-orange-300 to-orange-200 dark:from-orange-900 dark:via-orange-800 dark:to-orange-900 rounded-lg w-24 shimmer"}),r.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded-full w-8 shimmer"})]}),r.jsx("div",{className:"mt-4 h-12 bg-gradient-to-r from-orange-300 via-orange-400 to-orange-300 dark:from-orange-700 dark:via-orange-600 dark:to-orange-700 rounded-2xl shimmer"})]}),u=({count:a=6})=>r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:a}).map((a,e)=>r.jsx(x,{},e))});export{u as P,m as a};
