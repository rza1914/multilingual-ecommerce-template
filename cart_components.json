{
  "cart_components": {
    "cart-sidebar.css": {
      "path": "frontend/src/components/cart/cart-sidebar.css",
      "content": "/**\n * Cart Sidebar Styles\n *\n * Glassmorphism design with:\n * - Semi-transparent blurred background\n * - Smooth animations\n * - RTL/LTR support using CSS logical properties\n * - Dark mode support\n * - Responsive design\n */\n\n/* ===== CSS Variables for theming ===== */\n:root {\n  --cart-sidebar-width: 380px;\n  --cart-sidebar-bg: rgba(255, 255, 255, 0.85);\n  --cart-sidebar-border: rgba(255, 255, 255, 0.3);\n  --cart-sidebar-shadow: rgba(0, 0, 0, 0.1);\n  --cart-overlay-bg: rgba(0, 0, 0, 0.4);\n  --cart-text-primary: #1a1a1a;\n  --cart-text-secondary: #666666;\n  --cart-accent: #3b82f6;\n  --cart-accent-hover: #2563eb;\n  --cart-danger: #ef4444;\n  --cart-border-radius: 12px;\n  --cart-transition-duration: 300ms;\n}\n\n/* Dark mode variables */\n.dark {\n  --cart-sidebar-bg: rgba(30, 30, 30, 0.92);\n  --cart-sidebar-border: rgba(255, 255, 255, 0.1);\n  --cart-sidebar-shadow: rgba(0, 0, 0, 0.3);\n  --cart-text-primary: #f5f5f5;\n  --cart-text-secondary: #a0a0a0;\n}\n\n/* ===== Overlay backdrop ===== */\n.cart-overlay {\n  position: fixed;\n  inset: 0;\n  background: var(--cart-overlay-bg);\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity var(--cart-transition-duration) ease,\n              visibility var(--cart-transition-duration) ease;\n  z-index: 998;\n}\n\n.cart-overlay--visible {\n  opacity: 1;\n  visibility: visible;\n}\n\n/* ===== Main sidebar container ===== */\n.cart-sidebar {\n  position: fixed;\n  top: 0;\n  /* Use logical property for RTL/LTR support */\n  inset-inline-end: 0;\n  width: var(--cart-sidebar-width);\n  max-width: 100vw;\n  height: 100vh;\n  height: 100dvh; /* Dynamic viewport height for mobile */\n\n  /* Glassmorphism effect */\n  background: var(--cart-sidebar-bg);\n  backdrop-filter: blur(20px) saturate(180%);\n  -webkit-backdrop-filter: blur(20px) saturate(180%);\n\n  /* Border on the start side (left in LTR, right in RTL) */\n  border-inline-start: 1px solid var(--cart-sidebar-border);\n  box-shadow: -10px 0 40px var(--cart-sidebar-shadow);\n\n  /* Layout */\n  display: flex;\n  flex-direction: column;\n\n  /* Animation - slide from end */\n  transform: translateX(100%);\n  transition: transform var(--cart-transition-duration) cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 999;\n}\n\n/* RTL support - slide from left */\n[dir=\"rtl\"] .cart-sidebar {\n  transform: translateX(-100%);\n  box-shadow: 10px 0 40px var(--cart-sidebar-shadow);\n}\n\n.cart-sidebar--open {\n  transform: translateX(0);\n}\n\n/* ===== Header section ===== */\n.cart-sidebar__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px;\n  border-block-end: 1px solid rgba(0, 0, 0, 0.08);\n  flex-shrink: 0;\n}\n\n.dark .cart-sidebar__header {\n  border-block-end-color: rgba(255, 255, 255, 0.08);\n}\n\n.cart-sidebar__title-wrapper {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.cart-sidebar__title {\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--cart-text-primary);\n  margin: 0;\n}\n\n.cart-sidebar__badge {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 22px;\n  height: 22px;\n  padding: 0 6px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: white;\n  background: var(--cart-accent);\n  border-radius: 11px;\n}\n\n.cart-sidebar__close-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  border: none;\n  background: transparent;\n  border-radius: 8px;\n  color: var(--cart-text-secondary);\n  cursor: pointer;\n  transition: background-color 150ms ease, color 150ms ease;\n}\n\n.cart-sidebar__close-btn:hover {\n  background: rgba(0, 0, 0, 0.05);\n  color: var(--cart-text-primary);\n}\n\n.dark .cart-sidebar__close-btn:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.cart-sidebar__close-btn:focus-visible {\n  outline: 2px solid var(--cart-accent);\n  outline-offset: 2px;\n}\n\n/* ===== Content section (scrollable items list) ===== */\n.cart-sidebar__content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 12px 16px;\n\n  /* Custom scrollbar */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;\n}\n\n.cart-sidebar__content::-webkit-scrollbar {\n  width: 6px;\n}\n\n.cart-sidebar__content::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.cart-sidebar__content::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n}\n\n.dark .cart-sidebar__content::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n/* Empty cart state */\n.cart-sidebar__empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  padding: 32px;\n  text-align: center;\n}\n\n.cart-sidebar__empty-icon {\n  color: var(--cart-text-secondary);\n  opacity: 0.5;\n  margin-block-end: 16px;\n}\n\n.cart-sidebar__empty-text {\n  font-size: 0.9375rem;\n  color: var(--cart-text-secondary);\n  margin: 0;\n}\n\n/* Items list */\n.cart-sidebar__items {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.cart-sidebar__item-wrapper {\n  animation: cartItemFadeIn 200ms ease-out;\n}\n\n @keyframes cartItemFadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-8px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* ===== Footer section ===== */\n.cart-sidebar__footer {\n  padding: 16px;\n  border-block-start: 1px solid rgba(0, 0, 0, 0.08);\n  background: rgba(255, 255, 255, 0.5);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  flex-shrink: 0;\n}\n\n.dark .cart-sidebar__footer {\n  border-block-start-color: rgba(255, 255, 255, 0.08);\n  background: rgba(0, 0, 0, 0.3);\n}\n\n.cart-sidebar__subtotal {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-block-end: 8px;\n}\n\n.cart-sidebar__subtotal-label {\n  font-size: 0.9375rem;\n  color: var(--cart-text-secondary);\n}\n\n.cart-sidebar__subtotal-value {\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: var(--cart-text-primary);\n}\n\n.cart-sidebar__shipping-notice {\n  font-size: 0.8125rem;\n  color: var(--cart-text-secondary);\n  text-align: center;\n  margin: 0 0 12px;\n}\n\n.cart-sidebar__checkout-btn {\n  width: 100%;\n  padding: 14px 24px;\n  font-size: 0.9375rem;\n  font-weight: 600;\n  color: white;\n  background: var(--cart-accent);\n  border: none;\n  border-radius: var(--cart-border-radius);\n  cursor: pointer;\n  transition: background-color 150ms ease, transform 150ms ease;\n}\n\n.cart-sidebar__checkout-btn:hover:not(:disabled) {\n  background: var(--cart-accent-hover);\n}\n\n.cart-sidebar__checkout-btn:active:not(:disabled) {\n  transform: scale(0.98);\n}\n\n.cart-sidebar__checkout-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.cart-sidebar__checkout-btn:focus-visible {\n  outline: 2px solid var(--cart-accent);\n  outline-offset: 2px;\n}\n\n.cart-sidebar__continue-btn {\n  width: 100%;\n  padding: 12px 24px;\n  margin-block-start: 8px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--cart-text-secondary);\n  background: transparent;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: var(--cart-border-radius);\n  cursor: pointer;\n  transition: border-color 150ms ease, color 150ms ease;\n}\n\n.cart-sidebar__continue-btn:hover {\n  border-color: var(--cart-text-secondary);\n  color: var(--cart-text-primary);\n}\n\n.dark .cart-sidebar__continue-btn {\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.dark .cart-sidebar__continue-btn:hover {\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n/* ===== Cart Item styles ===== */\n.cart-item {\n  display: grid;\n  grid-template-columns: 56px 1fr auto auto;\n  gap: 12px;\n  align-items: center;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.6);\n  border-radius: var(--cart-border-radius);\n  border: 1px solid rgba(0, 0, 0, 0.04);\n}\n\n.dark .cart-item {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: rgba(255, 255, 255, 0.05);\n}\n\n.cart-item__image-wrapper {\n  width: 56px;\n  height: 56px;\n  border-radius: 8px;\n  overflow: hidden;\n  background: rgba(0, 0, 0, 0.05);\n}\n\n.cart-item__image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.cart-item__details {\n  min-width: 0; /* Allow text truncation */\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.cart-item__name {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--cart-text-primary);\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.cart-item__variant {\n  font-size: 0.75rem;\n  color: var(--cart-text-secondary);\n}\n\n.cart-item__price {\n  font-size: 0.8125rem;\n  font-weight: 600;\n  color: var(--cart-accent);\n}\n\n.cart-item__quantity {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  background: rgba(0, 0, 0, 0.04);\n  border-radius: 8px;\n  padding: 4px;\n}\n\n.dark .cart-item__quantity {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.cart-item__qty-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 28px;\n  height: 28px;\n  border: none;\n  background: transparent;\n  border-radius: 6px;\n  color: var(--cart-text-primary);\n  cursor: pointer;\n  transition: background-color 150ms ease;\n}\n\n.cart-item__qty-btn:hover:not(:disabled) {\n  background: rgba(0, 0, 0, 0.08);\n}\n\n.dark .cart-item__qty-btn:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.cart-item__qty-btn:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n.cart-item__qty-value {\n  min-width: 24px;\n  text-align: center;\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--cart-text-primary);\n}\n\n.cart-item__remove-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border: none;\n  background: transparent;\n  border-radius: 6px;\n  color: var(--cart-text-secondary);\n  cursor: pointer;\n  transition: background-color 150ms ease, color 150ms ease;\n}\n\n.cart-item__remove-btn:hover {\n  background: rgba(239, 68, 68, 0.1);\n  color: var(--cart-danger);\n}\n\n.cart-item__remove-btn:focus-visible {\n  outline: 2px solid var(--cart-danger);\n  outline-offset: 2px;\n}\n\n/* ===== Responsive adjustments ===== */\n @media (max-width: 420px) {\n  .cart-sidebar {\n    width: 100vw;\n  }\n\n  .cart-item {\n    grid-template-columns: 48px 1fr auto;\n    grid-template-rows: auto auto;\n  }\n\n  .cart-item__image-wrapper {\n    width: 48px;\n    height: 48px;\n    grid-row: span 2;\n  }\n\n  .cart-item__quantity {\n    grid-column: 2;\n    justify-self: start;\n  }\n\n  .cart-item__remove-btn {\n    grid-row: span 2;\n    align-self: center;\n  }\n}\n"
    },
    "CartItem.jsx": {
      "path": "frontend/src/components/cart/CartItem.jsx",
      "content": "import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\n/**\n * CartItem Component\n *\n * Compact display for a single cart item.\n * Features:\n * - Thumbnail image\n * - Product name and variant info\n * - Quantity controls\n * - Price display\n * - Remove button\n *\n * @param {Object} props\n * @param {Object} props.item - Cart item data\n * @param {function} props.onUpdateQuantity - Quantity change callback\n * @param {function} props.onRemove - Remove item callback\n * @param {function} props.formatPrice - Price formatting function\n */\nconst CartItem = ({ item, onUpdateQuantity, onRemove, formatPrice }) => {\n  const { t } = useTranslation();\n\n  // Handle quantity decrement, minimum is 1\n  const handleDecrement = () => {\n    if (item.quantity > 1) {\n      onUpdateQuantity(item.quantity - 1);\n    }\n  };\n\n  // Handle quantity increment\n  const handleIncrement = () => {\n    onUpdateQuantity(item.quantity + 1);\n  };\n\n  return (\n    <article className=\"cart-item\" aria-label={item.name}>\n      {/* Product thumbnail */}\n      <div className=\"cart-item__image-wrapper\">\n        <img\n          src={item.image || '/placeholder-product.png'}\n          alt={item.name}\n          className=\"cart-item__image\"\n          loading=\"lazy\"\n        />\n      </div>\n\n      {/* Product details */}\n      <div className=\"cart-item__details\">\n        <h4 className=\"cart-item__name\" title={item.name}>\n          {item.name}\n        </h4>\n\n        {/* Show variant if available (e.g., size, color) */}\n        {item.variant && (\n          <span className=\"cart-item__variant\">\n            {item.variant}\n          </span>\n        )}\n\n        {/* Price display */}\n        <span className=\"cart-item__price\">\n          {formatPrice(item.price)}\n        </span>\n      </div>\n\n      {/* Quantity controls */}\n      <div className=\"cart-item__quantity\">\n        <button\n          className=\"cart-item__qty-btn\"\n          onClick={handleDecrement}\n          disabled={item.quantity <= 1}\n          aria-label={t('cart.decreaseQuantity', 'Decrease quantity')}\n        >\n          <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"currentColor\">\n            <rect y=\"5\" width=\"12\" height=\"2\" rx=\"1\" />\n          </svg>\n        </button>\n\n        <span className=\"cart-item__qty-value\" aria-label={t('cart.quantity', 'Quantity')}>\n          {item.quantity}\n        </span>\n\n        <button\n          className=\"cart-item__qty-btn\"\n          onClick={handleIncrement}\n          aria-label={t('cart.increaseQuantity', 'Increase quantity')}\n        >\n          <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"currentColor\">\n            <rect y=\"5\" width=\"12\" height=\"2\" rx=\"1\" />\n            <rect x=\"5\" width=\"2\" height=\"12\" rx=\"1\" />\n          </svg>\n        </button>\n      </div>\n\n      {/* Remove button */}\n      <button\n        className=\"cart-item__remove-btn\"\n        onClick={onRemove}\n        aria-label={t('cart.removeItem', 'Remove {{name}} from cart', { name: item.name })}\n      >\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n          <polyline points=\"3,6 5,6 21,6\" />\n          <path d=\"M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6M8,6V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6\" />\n        </svg>\n      </button>\n    </article>\n  );\n};\n\nexport default CartItem;\n"
    },
    "CartItemCard.tsx": {
      "path": "frontend/src/components/cart/CartItemCard.tsx",
      "content": "/**\n * Cart Item Card Component\n * Displays individual cart item with quantity controls\n */\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Plus, Minus, Trash2, AlertTriangle } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\nimport { CartItem } from '../../contexts/CartContext';\nimport { useCart } from '../../contexts/CartContext';\nimport ProductImage from '../products/ProductImage';\nimport { getLocalizedTitle, getLocalizedDescription, formatCurrency } from '../../utils/i18n';\nimport RemoveItemModal from './RemoveItemModal';\n\ninterface CartItemCardProps {\n  item: CartItem;\n}\n\nconst CartItemCard: React.FC<CartItemCardProps> = ({ item }) => {\n  const { t } = useTranslation();\n  const { updateQuantity, removeFromCart } = useCart();\n  const [isRemoveModalOpen, setIsRemoveModalOpen] = useState(false);\n  const [quantity, setQuantity] = useState(item.quantity);\n\n  const { product } = item;\n  const title = getLocalizedTitle(product);\n  const description = getLocalizedDescription(product);\n\n  // Calculate price\n  const hasDiscount = product.discount && product.discount > 0;\n  const price = hasDiscount\n    ? product.price * (1 - (product.discount ?? 0) / 100)\n    : product.price;\n  const itemSubtotal = price * quantity;\n\n  // Stock status\n  const isOutOfStock = product.stock === 0;\n  const isLowStock = product.stock > 0 && product.stock < 10;\n  const isInsufficientStock = quantity > product.stock;\n\n  /**\n   * Handle quantity change from input\n   */\n  const handleQuantityChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newQuantity = parseInt(e.target.value) || 1;\n    if (newQuantity > 0 && newQuantity <= product.stock) {\n      setQuantity(newQuantity);\n      updateQuantity(product.id, newQuantity);\n    }\n  };\n\n  /**\n   * Handle quantity decrease\n   */\n  const handleDecrease = () => {\n    if (quantity > 1) {\n      const newQuantity = quantity - 1;\n      setQuantity(newQuantity);\n      updateQuantity(product.id, newQuantity);\n    }\n  };\n\n  /**\n   * Handle quantity increase\n   */\n  const handleIncrease = () => {\n    if (quantity < product.stock) {\n      const newQuantity = quantity + 1;\n      setQuantity(newQuantity);\n      updateQuantity(product.id, newQuantity);\n    }\n  };\n\n  /**\n   * Handle remove item\n   */\n  const handleRemove = () => {\n    removeFromCart(product.id);\n  };\n\n  return (\n    <>\n      <div className=\"glass-card p-6 animate-slide-up hover:shadow-xl transition-all duration-300\">\n        <div className=\"flex gap-6\">\n          {/* Product Image */}\n          <Link to={`/products/${product.id}`} className=\"flex-shrink-0\">\n            <ProductImage\n              src={product.image_url || ''}\n              alt={title}\n              className=\"w-24 h-24 md:w-32 md:h-32 object-cover rounded-2xl hover:scale-105 transition-transform duration-300\"\n              width={128}\n              height={128}\n            />\n          </Link>\n\n          {/* Product Details */}\n          <div className=\"flex-1 min-w-0\">\n            {/* Title and Remove Button */}\n            <div className=\"flex justify-between items-start mb-2\">\n              <div className=\"flex-1 min-w-0\">\n                <Link\n                  to={`/products/${product.id}`}\n                  className=\"font-bold text-lg text-gray-900 dark:text-white hover:text-orange-600 dark:hover:text-orange-400 transition-colors line-clamp-2\"\n                >\n                  {title}\n                </Link>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 line-clamp-1 mt-1\">\n                  {description}\n                </p>\n              </div>\n\n              {/* Remove Button (Desktop) */}\n              <button\n                onClick={() => setIsRemoveModalOpen(true)}\n                className=\"ml-4 glass-orange p-2 rounded-xl hover:scale-110 transition-transform hidden md:flex\"\n                aria-label={t('buttons.removeItem')}\n              >\n                <Trash2 className=\"w-5 h-5 text-red-500\" />\n              </button>\n            </div>\n\n            {/* Category Badge */}\n            {product.category && (\n              <span className=\"badge-glass text-xs inline-block mb-3\">\n                {product.category}\n              </span>\n            )}\n\n            {/* Stock Warnings */}\n            {isInsufficientStock && (\n              <div className=\"flex items-center gap-2 mb-3 text-red-500 text-sm\">\n                <AlertTriangle className=\"w-4 h-4\" />\n                <span>{t('cart.insufficientStock', { count: product.stock })}</span>\n              </div>\n            )}\n\n            {isLowStock && !isInsufficientStock && (\n              <div className=\"flex items-center gap-2 mb-3 text-orange-500 text-sm\">\n                <AlertTriangle className=\"w-4 h-4\" />\n                <span>{t('product.lowStock', { count: product.stock })}</span>\n              </div>\n            )}\n\n            {/* Price and Quantity Controls */}\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mt-4\">\n              {/* Price */}\n              <div className=\"flex flex-col\">\n                <div className=\"flex items-baseline gap-2\">\n                  <span className=\"text-2xl font-bold text-gradient-orange\">\n                    {formatCurrency(price)}\n                  </span>\n                  {hasDiscount && (\n                    <span className=\"text-sm text-gray-400 line-through\">\n                      {formatCurrency(product.price)}\n                    </span>\n                  )}\n                </div>\n                <span className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                  {t('cart.subtotal')}: <span className=\"font-semibold text-orange-600 dark:text-orange-400\">\n                    {formatCurrency(itemSubtotal)}\n                  </span>\n                </span>\n              </div>\n\n              {/* Quantity Controls */}\n              <div className=\"flex items-center gap-3\">\n                <button\n                  onClick={handleDecrease}\n                  disabled={quantity <= 1 || isOutOfStock}\n                  className=\"glass-orange p-2 rounded-xl hover:scale-110 transition-transform disabled:opacity-50 disabled:cursor-not-allowed\"\n                  aria-label={t('buttons.decreaseQuantity')}\n                >\n                  <Minus className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\n                </button>\n\n                <input\n                  type=\"number\"\n                  value={quantity}\n                  onChange={handleQuantityChange}\n                  min=\"1\"\n                  max={product.stock}\n                  disabled={isOutOfStock}\n                  className=\"w-16 text-center text-lg font-bold glass-card px-3 py-2 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none disabled:opacity-50\"\n                />\n\n                <button\n                  onClick={handleIncrease}\n                  disabled={quantity >= product.stock || isOutOfStock}\n                  className=\"glass-orange p-2 rounded-xl hover:scale-110 transition-transform disabled:opacity-50 disabled:cursor-not-allowed\"\n                  aria-label={t('buttons.increaseQuantity')}\n                >\n                  <Plus className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\n                </button>\n\n                {/* Remove Button (Mobile) */}\n                <button\n                  onClick={() => setIsRemoveModalOpen(true)}\n                  className=\"md:hidden glass-orange p-2 rounded-xl hover:scale-110 transition-transform ml-2\"\n                  aria-label={t('buttons.removeItem')}\n                >\n                  <Trash2 className=\"w-5 h-5 text-red-500\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Remove Confirmation Modal */}\n      <RemoveItemModal\n        product={product}\n        isOpen={isRemoveModalOpen}\n        onClose={() => setIsRemoveModalOpen(false)}\n        onConfirm={handleRemove}\n      />\n    </>\n  );\n};\n\nexport default CartItemCard;\n"
    },
    "CartSidebar.jsx": {
      "path": "frontend/src/components/cart/CartSidebar.jsx",
      "content": "import React, { useEffect, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CartItem from './CartItem';\nimport './cart-sidebar.css';\n\n/**\n * CartSidebar Component\n *\n * A glassmorphism-styled sidebar for displaying cart items.\n * Features:\n * - Semi-transparent blurred background\n * - Smooth slide-in/out animations\n * - RTL/LTR support\n * - Keyboard accessible (Escape to close)\n * - Clear visual hierarchy: Header â†’ Items â†’ Footer\n *\n * @param {Object} props\n * @param {boolean} props.isOpen - Controls sidebar visibility\n * @param {function} props.onClose - Callback to close the sidebar\n * @param {Array} props.items - Cart items array\n * @param {number} props.total - Cart total amount\n * @param {function} props.onUpdateQuantity - Callback for quantity changes\n * @param {function} props.onRemoveItem - Callback for item removal\n * @param {function} props.onCheckout - Callback for checkout action\n */\nconst CartSidebar = ({\n  isOpen,\n  onClose,\n  items = [],\n  total = 0,\n  onUpdateQuantity,\n  onRemoveItem,\n  onCheckout\n}) => {\n  const { t } = useTranslation();\n\n  // Handle Escape key to close sidebar for accessibility\n  const handleKeyDown = useCallback((event) => {\n    if (event.key === 'Escape' && isOpen) {\n      onClose();\n    }\n  }, [isOpen, onClose]);\n\n  // Attach keyboard listener when sidebar is open\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener('keydown', handleKeyDown);\n      // Prevent body scroll when sidebar is open\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = '';\n    };\n  }, [isOpen, handleKeyDown]);\n\n  // Format price with locale support\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat(undefined, {\n      style: 'currency',\n      currency: 'USD'\n    }).format(price);\n  };\n\n  // Calculate item count for header badge\n  const itemCount = items.reduce((sum, item) => sum + item.quantity, 0);\n\n  return (\n    <>\n      {/* Overlay backdrop - click to close */}\n      <div\n        className={`cart-overlay ${isOpen ? 'cart-overlay--visible' : ''}`}\n        onClick={onClose}\n        aria-hidden=\"true\"\n      />\n\n      {/* Main sidebar container */}\n      <aside\n        className={`cart-sidebar ${isOpen ? 'cart-sidebar--open' : ''}`}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label={t('cart.title', 'Shopping Cart')}\n        aria-hidden={!isOpen}\n      >\n        {/* ===== HEADER SECTION ===== */}\n        <header className=\"cart-sidebar__header\">\n          <div className=\"cart-sidebar__title-wrapper\">\n            <h2 className=\"cart-sidebar__title\">\n              {t('cart.title', 'Shopping Cart')}\n            </h2>\n            {itemCount > 0 && (\n              <span className=\"cart-sidebar__badge\">\n                {itemCount}\n              </span>\n            )}\n          </div>\n          <button\n            className=\"cart-sidebar__close-btn\"\n            onClick={onClose}\n            aria-label={t('common.close', 'Close')}\n          >\n            <svg\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            >\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n            </svg>\n          </button>\n        </header>\n\n        {/* ===== ITEMS LIST SECTION ===== */}\n        <div className=\"cart-sidebar__content\">\n          {items.length === 0 ? (\n            <div className=\"cart-sidebar__empty\">\n              <svg\n                className=\"cart-sidebar__empty-icon\"\n                width=\"64\"\n                height=\"64\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"1.5\"\n              >\n                <circle cx=\"9\" cy=\"21\" r=\"1\" />\n                <circle cx=\"20\" cy=\"21\" r=\"1\" />\n                <path d=\"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\" />\n              </svg>\n              <p className=\"cart-sidebar__empty-text\">\n                {t('cart.empty', 'Your cart is empty')}\n              </p>\n            </div>\n          ) : (\n            <ul className=\"cart-sidebar__items\" role=\"list\">\n              {items.map((item) => (\n                <li key={item.id} className=\"cart-sidebar__item-wrapper\">\n                  <CartItem\n                    item={item}\n                    onUpdateQuantity={(quantity) => onUpdateQuantity(item.id, quantity)}\n                    onRemove={() => onRemoveItem(item.id)}\n                    formatPrice={formatPrice}\n                  />\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n\n        {/* ===== FOOTER SECTION ===== */}\n        <footer className=\"cart-sidebar__footer\">\n          {/* Subtotal row */}\n          <div className=\"cart-sidebar__subtotal\">\n            <span className=\"cart-sidebar__subtotal-label\">\n              {t('cart.subtotal', 'Subtotal')}\n            </span>\n            <span className=\"cart-sidebar__subtotal-value\">\n              {formatPrice(total)}\n            </span>\n          </div>\n\n          {/* Shipping notice */}\n          <p className=\"cart-sidebar__shipping-notice\">\n            {t('cart.shippingNotice', 'Shipping calculated at checkout')}\n          </p>\n\n          {/* Checkout button */}\n          <button\n            className=\"cart-sidebar__checkout-btn\"\n            onClick={onCheckout}\n            disabled={items.length === 0}\n            aria-disabled={items.length === 0}\n          >\n            {t('cart.checkout', 'Proceed to Checkout')}\n          </button>\n\n          {/* Continue shopping link */}\n          <button\n            className=\"cart-sidebar__continue-btn\"\n            onClick={onClose}\n          >\n            {t('cart.continueShopping', 'Continue Shopping')}\n          </button>\n        </footer>\n      </aside>\n    </>\n  );\n};\n\nexport default CartSidebar;\n"
    },
    "CartSummary.tsx": {
      "path": "frontend/src/components/cart/CartSummary.tsx",
      "content": "/**\n * Cart Summary Component\n * Displays order summary with totals and coupon input\n */\n\nimport React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { ShoppingCart, ArrowRight } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\nimport { useCart } from '../../contexts/CartContext';\nimport { formatCurrency } from '../../utils/i18n';\nimport CouponInput from './CouponInput';\n\ninterface CartSummaryProps {\n  showCoupon?: boolean;\n  showCheckoutButton?: boolean;\n  showContinueShopping?: boolean;\n}\n\nconst CartSummary: React.FC<CartSummaryProps> = ({\n  showCoupon = true,\n  showCheckoutButton = true,\n  showContinueShopping = true,\n}) => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const {\n    getSubtotal,\n    getTax,\n    getShipping,\n    getDiscount,\n    cartItems,\n  } = useCart();\n\n  const subtotal = getSubtotal();\n  const tax = getTax();\n  const shipping = getShipping();\n  const discount = getDiscount();\n  const total = subtotal + tax + shipping - discount;\n\n  const isEmpty = cartItems.length === 0;\n\n  /**\n   * Handle checkout - navigate to checkout page\n   */\n  const handleCheckout = () => {\n    navigate('/checkout');\n  };\n\n  return (\n    <div className=\"glass-card p-6 sticky top-24 animate-slide-up\">\n      {/* Title */}\n      <div className=\"flex items-center gap-3 mb-6\">\n        <div className=\"glass-orange p-2 rounded-xl\">\n          <ShoppingCart className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\n        </div>\n        <h2 className=\"text-2xl font-bold text-gradient-orange\">\n          {t('checkout.orderSummary')}\n        </h2>\n      </div>\n\n      {/* Summary Lines */}\n      <div className=\"space-y-4 mb-6\">\n        {/* Subtotal */}\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-gray-700 dark:text-gray-300\">{t('cart.subtotal')}</span>\n          <span className=\"font-semibold text-gray-900 dark:text-white\">\n            {formatCurrency(subtotal)}\n          </span>\n        </div>\n\n        {/* Shipping */}\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-gray-700 dark:text-gray-300\">{t('checkout.shipping')}</span>\n          {shipping === 0 ? (\n            <span className=\"font-semibold text-green-600 dark:text-green-400\">\n              {t('checkout.free')}\n            </span>\n          ) : (\n            <span className=\"font-semibold text-gray-900 dark:text-white\">\n              {formatCurrency(shipping)}\n            </span>\n          )}\n        </div>\n\n        {/* Tax */}\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-gray-700 dark:text-gray-300\">\n            {t('checkout.tax')}\n          </span>\n          <span className=\"font-semibold text-gray-900 dark:text-white\">\n            {formatCurrency(tax)}\n          </span>\n        </div>\n\n        {/* Discount */}\n        {discount > 0 && (\n          <div className=\"flex justify-between items-center text-green-600 dark:text-green-400\">\n            <span>{t('checkout.discount')}</span>\n            <span className=\"font-semibold\">\n              -{formatCurrency(discount)}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Divider */}\n      <div className=\"border-t-2 border-orange-500/30 my-6\" />\n\n      {/* Total */}\n      <div className=\"flex justify-between items-center mb-6\">\n        <span className=\"text-xl font-bold text-gray-900 dark:text-white\">\n          {t('cart.total')}\n        </span>\n        <span className=\"text-3xl font-bold text-gradient-orange\">\n          {formatCurrency(total)}\n        </span>\n      </div>\n\n      {/* Coupon Input */}\n      {showCoupon && (\n        <div className=\"mb-6\">\n          <CouponInput />\n        </div>\n      )}\n\n      {/* Checkout Button */}\n      {showCheckoutButton && (\n        <button\n          onClick={handleCheckout}\n          disabled={isEmpty}\n          className=\"w-full btn-primary text-center mb-4 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n        >\n          {t('cart.proceedToCheckout')}\n          <ArrowRight className=\"w-5 h-5\" />\n        </button>\n      )}\n\n      {/* Continue Shopping Link */}\n      {showContinueShopping && (\n        <Link\n          to=\"/products\"\n          className=\"block text-center text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 font-semibold transition-colors\"\n        >\n          {t('cart.continueShopping')}\n        </Link>\n      )}\n\n      {/* Security Note */}\n      <div className=\"mt-6 glass p-4 rounded-2xl\">\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 text-center leading-relaxed\">\n          ðŸ”’ {t('checkout.secureCheckout')}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default CartSummary;\n"
    },
    "CouponInput.tsx": {
      "path": "frontend/src/components/cart/CouponInput.tsx",
      "content": "/**\n * Coupon Input Component\n * Input field for applying discount coupons\n */\n\nimport React, { useState } from 'react';\nimport { Check, X, Loader2, Tag } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\nimport { useCart } from '../../contexts/CartContext';\n\nconst CouponInput: React.FC = () => {\n  const { t } = useTranslation();\n  const { couponCode, couponDiscount, applyCoupon, removeCoupon } = useCart();\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  /**\n   * Handle apply coupon\n   */\n  const handleApply = async () => {\n    if (!input.trim()) return;\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const success = await applyCoupon(input.trim());\n\n      if (success) {\n        setInput('');\n      } else {\n        setError(t('coupon.invalidCode'));\n      }\n    } catch (err) {\n      setError(t('coupon.failed'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /**\n   * Handle remove coupon\n   */\n  const handleRemove = () => {\n    removeCoupon();\n    setError('');\n  };\n\n  /**\n   * Handle key press (Enter to apply)\n   */\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      handleApply();\n    }\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      {/* Applied Coupon Display */}\n      {couponCode ? (\n        <div className=\"glass-card p-4 flex items-center justify-between animate-slide-down\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"glass-orange p-2 rounded-lg\">\n              <Tag className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n                {couponCode}\n              </p>\n              <p className=\"text-xs text-green-600 dark:text-green-400 flex items-center gap-1\">\n                <Check className=\"w-3 h-3\" />\n                {couponCode === 'FREESHIP' ? t('coupon.freeShipping') : t('coupon.discountApplied', { discount: couponDiscount })}\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={handleRemove}\n            className=\"glass-orange p-2 rounded-lg hover:scale-110 transition-transform\"\n            aria-label={t('buttons.removeCoupon')}\n          >\n            <X className=\"w-4 h-4 text-red-500\" />\n          </button>\n        </div>\n      ) : (\n        <>\n          {/* Coupon Input */}\n          <div className=\"flex gap-2\">\n            <div className=\"flex-1 relative\">\n              <input\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput(e.target.value.toUpperCase())}\n                onKeyPress={handleKeyPress}\n                placeholder={t('coupon.enterCode')}\n                disabled={loading}\n                className=\"w-full input-field pl-10 disabled:opacity-50\"\n              />\n              <Tag className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n            </div>\n            <button\n              onClick={handleApply}\n              disabled={!input.trim() || loading}\n              className=\"btn-primary px-6 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  <span>{t('coupon.applying')}</span>\n                </>\n              ) : (\n                t('coupon.apply')\n              )}\n            </button>\n          </div>\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"text-sm text-red-500 flex items-center gap-2 animate-slide-down\">\n              <X className=\"w-4 h-4\" />\n              <span>{error}</span>\n            </div>\n          )}\n\n          {/* Coupon Hints */}\n          <div className=\"glass p-3 rounded-xl\">\n            <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n              <strong className=\"text-orange-500\">{t('coupon.tryTheseCodes')}</strong> {t('coupon.exampleCodes')}\n            </p>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default CouponInput;\n"
    },
    "index.js": {
      "path": "frontend/src/components/cart/index.js",
      "content": "/**\n * Cart Components Barrel Export\n *\n * Provides a clean import interface for cart-related components.\n * Usage: import { CartSidebar, CartItem } from ' @/components/cart';\n */\n\nexport { default as CartSidebar } from './CartSidebar';\nexport { default as CartItem } from './CartItem';\n"
    },
    "MiniCart.tsx": {
      "path": "frontend/src/components/cart/MiniCart.tsx",
      "content": "/**\n * Mini Cart Sidebar - NEW VERSION\n * Fixed with inline styles for proper flex layout\n */\n\nimport React from 'react';\nimport { X, ShoppingCart, Trash2, Plus, Minus } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\nimport { useCart } from '../../contexts/CartContext';\nimport { useNavigate } from 'react-router-dom';\nimport ProductImage from '../products/ProductImage';\nimport { getLocalizedTitle, formatCurrency } from '../../utils/i18n';\n\ninterface MiniCartProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function MiniCart({ isOpen, onClose }: MiniCartProps) {\n  const { t } = useTranslation();\n  const { cartItems, removeFromCart, updateQuantity, getTotalItems, getTotalPrice } = useCart();\n  const navigate = useNavigate();\n\n  // Close on ESC key\n  React.useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n    if (isOpen) {\n      window.addEventListener('keydown', handleEsc);\n      document.body.style.overflow = 'hidden';\n    }\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className={`fixed inset-0 bg-black/70 dark:bg-black/85 backdrop-blur-md z-[60]\n                    transition-opacity duration-300 ${isOpen ? 'opacity-100' : 'opacity-0'}`}\n        onClick={onClose}\n        aria-hidden=\"true\"\n      />\n\n      {/* Sidebar with PROPER FLEX LAYOUT */}\n      <div\n        style={{\n          position: 'fixed',\n          top: 0,\n          right: 0,\n          height: '100vh',\n          width: 'clamp(90vw, 500px, 90vw)',\n          zIndex: 70,\n          display: 'flex',\n          flexDirection: 'column',\n          backgroundColor: 'var(--color-bg)',\n          boxShadow: '0 0 50px rgba(0,0,0,0.3)',\n          borderLeft: '4px solid #FF6B35',\n          transform: isOpen ? 'translateX(0)' : 'translateX(100%)',\n          transition: 'transform 300ms ease-out',\n          overflow: 'hidden',\n        }}\n        className=\"dark:bg-gray-900 bg-white\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* HEADER - Fixed height */}\n        <div\n          className=\"p-6 border-b-2 border-orange-500/20\n                      bg-gradient-to-br from-orange-50 to-white\n                      dark:from-gray-800 dark:to-gray-900\"\n          style={{\n            flexShrink: 0,\n          }}\n        >\n          <div className=\"flex items-center justify-between mb-2\">\n            <h2 className=\"text-2xl font-bold text-orange-500\">\n              {t('cart.title')}\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"p-2.5 rounded-xl\n                         bg-white dark:bg-gray-800\n                         hover:bg-orange-100 dark:hover:bg-orange-900/30\n                         border-2 border-gray-200 dark:border-gray-700\n                         hover:border-orange-500\n                         transition-all duration-200\n                         shadow-lg hover:shadow-orange-500/20\"\n              aria-label={t('buttons.closeCart')}\n            >\n              <X className=\"w-6 h-6 text-gray-700 dark:text-gray-300\" />\n            </button>\n          </div>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n            {getTotalItems() === 1 ? t('cart.itemInCart', { count: getTotalItems() }) : t('cart.itemsInCart', { count: getTotalItems() })}\n          </p>\n        </div>\n\n        {/* CONTENT - Scrollable */}\n        <div\n          className=\"bg-gray-50 dark:bg-gray-950 p-6\"\n          style={{\n            flex: 1,\n            minHeight: 0, // CRITICAL: allows flex child to shrink below content size\n            overflowY: 'auto',\n            overflowX: 'hidden',\n          }}\n        >\n          {cartItems.length === 0 ? (\n            // Empty State\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                height: '100%',\n                textAlign: 'center',\n              }}\n              className=\"py-12\"\n            >\n              <div className=\"w-24 h-24 rounded-full\n                            bg-gradient-to-br from-orange-100 to-orange-50\n                            dark:from-orange-900/20 dark:to-orange-800/10\n                            flex items-center justify-center mb-4\n                            shadow-lg\">\n                <ShoppingCart className=\"w-12 h-12 text-orange-500\" />\n              </div>\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n                {t('cart.empty')}\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n                {t('cart.emptyMessage')}\n              </p>\n              <button\n                onClick={() => {\n                  navigate('/products');\n                  onClose();\n                }}\n                className=\"px-6 py-3\n                         bg-gradient-to-r from-orange-500 to-orange-600\n                         text-white rounded-xl font-semibold\n                         hover:shadow-xl hover:shadow-orange-500/50\n                         hover:scale-105\n                         transition-all duration-300\n                         border-2 border-orange-400\"\n              >\n                {t('cart.continueShopping')}\n              </button>\n            </div>\n          ) : (\n            // Cart Items List\n            <div className=\"space-y-4\">\n              {cartItems.map((item, index) => {\n                const hasDiscount = item.product.discount && item.product.discount > 0;\n                const price = hasDiscount\n                  ? item.product.price * (1 - (item.product.discount ?? 0) / 100)\n                  : item.product.price;\n                const itemSubtotal = price * item.quantity;\n\n                return (\n                  <div\n                    key={item.id}\n                    className=\"bg-white dark:bg-gray-900\n                             rounded-2xl p-4\n                             shadow-lg hover:shadow-xl\n                             border-2 border-gray-100 dark:border-gray-800\n                             hover:border-orange-500/50\n                             transition-all duration-300 animate-fadeInUp\"\n                    style={{\n                      animationDelay: `${index * 100}ms`,\n                      animationFillMode: 'forwards',\n                    }}\n                  >\n                    <div className=\"flex gap-4\">\n                      {/* Product Image */}\n                      <ProductImage\n                        src={item.product.image_url || ''}\n                        alt={item.product.title_en}\n                        className=\"w-20 h-20 object-cover rounded-lg flex-shrink-0\n                                 border-2 border-gray-100 dark:border-gray-800\"\n                        width={80}\n                        height={80}\n                      />\n\n                      {/* Product Info */}\n                      <div className=\"flex-1 min-w-0\">\n                        <h4 className=\"font-semibold text-gray-900 dark:text-white truncate mb-1\">\n                          {getLocalizedTitle(item.product, item.product.title_en)}\n                        </h4>\n                        <p className=\"text-orange-500 font-bold text-sm mb-2\">\n                          {formatCurrency(price)}\n                          {hasDiscount && (\n                            <span className=\"ml-2 text-xs text-gray-400 line-through\">\n                              {formatCurrency(item.product.price)}\n                            </span>\n                          )}\n                        </p>\n\n                        {/* Quantity Controls */}\n                        <div className=\"flex items-center gap-3\">\n                          <button\n                            onClick={() => updateQuantity(item.product.id, item.quantity - 1)}\n                            disabled={item.quantity <= 1}\n                            className=\"p-1.5 rounded-lg\n                                     bg-orange-50 dark:bg-orange-900/20\n                                     hover:bg-orange-100 dark:hover:bg-orange-900/40\n                                     border border-orange-200 dark:border-orange-800\n                                     disabled:opacity-50 disabled:cursor-not-allowed\n                                     transition-colors\"\n                          >\n                            <Minus className=\"w-4 h-4 text-orange-500\" />\n                          </button>\n                          <span className=\"font-semibold text-gray-900 dark:text-white min-w-[2rem] text-center\">\n                            {item.quantity}\n                          </span>\n                          <button\n                            onClick={() => updateQuantity(item.product.id, item.quantity + 1)}\n                            disabled={item.quantity >= item.product.stock}\n                            className=\"p-1.5 rounded-lg\n                                     bg-orange-50 dark:bg-orange-900/20\n                                     hover:bg-orange-100 dark:hover:bg-orange-900/40\n                                     border border-orange-200 dark:border-orange-800\n                                     disabled:opacity-50 disabled:cursor-not-allowed\n                                     transition-colors\"\n                          >\n                            <Plus className=\"w-4 h-4 text-orange-500\" />\n                          </button>\n                        </div>\n                      </div>\n\n                      {/* Remove Button */}\n                      <button\n                        onClick={() => removeFromCart(item.product.id)}\n                        className=\"p-2 rounded-lg\n                                 hover:bg-red-50 dark:hover:bg-red-900/20\n                                 border-2 border-transparent hover:border-red-200 dark:hover:border-red-800\n                                 transition-colors\n                                 group flex-shrink-0\"\n                        aria-label={t('buttons.removeItem')}\n                      >\n                        <Trash2 className=\"w-5 h-5 text-gray-400 group-hover:text-red-500\" />\n                      </button>\n                    </div>\n\n                    {/* Item Subtotal */}\n                    <div className=\"mt-3 pt-3 border-t-2 border-gray-100 dark:border-gray-800\">\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-gray-600 dark:text-gray-400\">{t('cart.subtotal')}:</span>\n                        <span className=\"font-semibold text-orange-500\">\n                          {formatCurrency(itemSubtotal)}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n\n        {/* FOOTER - Fixed height */}\n        {cartItems.length > 0 && (\n          <div\n            className=\"border-t-2 border-orange-500/30 p-6\n                        bg-white dark:bg-gray-900\n                        shadow-[0_-10px_30px_rgba(0,0,0,0.1)]\"\n            style={{\n              flexShrink: 0,\n            }}\n          >\n            {/* Total */}\n            <div className=\"flex justify-between items-center mb-4 pb-4\n                          border-b-2 border-gray-200 dark:border-gray-800\">\n              <span className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                {t('cart.total')}:\n              </span>\n              <span className=\"text-2xl font-bold text-orange-500\">\n                {formatCurrency(getTotalPrice())}\n              </span>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"space-y-3\">\n              <button\n                onClick={() => {\n                  navigate('/cart');\n                  onClose();\n                }}\n                className=\"w-full py-3 px-4 rounded-xl\n                         bg-white dark:bg-gray-800\n                         border-2 border-orange-500\n                         text-orange-500 font-semibold\n                         hover:bg-orange-50 dark:hover:bg-orange-900/20\n                         shadow-lg hover:shadow-xl\n                         transition-all duration-300\"\n              >\n                {t('cart.title')}\n              </button>\n              <button\n                onClick={() => {\n                  navigate('/checkout');\n                  onClose();\n                }}\n                className=\"w-full py-3 px-4 rounded-xl\n                         bg-gradient-to-r from-orange-500 to-orange-600\n                         text-white font-semibold\n                         hover:shadow-xl hover:shadow-orange-500/60\n                         hover:scale-[1.02]\n                         border-2 border-orange-400\n                         transition-all duration-300\"\n              >\n                {t('cart.proceedToCheckout')}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* CSS Animations */}\n      <style>{`\n        @keyframes fadeInUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .animate-fadeInUp {\n          animation: fadeInUp 0.4s ease-out;\n        }\n      `}</style>\n    </>\n  );\n}\n"
    },
    "RemoveItemModal.tsx": {
      "path": "frontend/src/components/cart/RemoveItemModal.tsx",
      "content": "/**\n * Remove Item Modal\n * Confirmation dialog for removing items from cart\n */\n\nimport React from 'react';\nimport { X, AlertCircle } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\nimport { Product } from '../../types/product.types';\nimport { getProductImage } from '../../utils/imageUtils';\n\ninterface RemoveItemModalProps {\n  product: Product | null;\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n}\n\nconst RemoveItemModal: React.FC<RemoveItemModalProps> = ({\n  product,\n  isOpen,\n  onClose,\n  onConfirm,\n}) => {\n  const { t } = useTranslation();\n\n  if (!isOpen || !product) return null;\n\n  const handleConfirm = () => {\n    onConfirm();\n    onClose();\n  };\n\n  const title = product.title_en;\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className=\"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm z-50 animate-fade-in\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 animate-scale-in\">\n        <div\n          className=\"glass-card max-w-md w-full p-6\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Close Button */}\n          <button\n            onClick={onClose}\n            className=\"absolute top-4 right-4 glass-orange p-2 rounded-xl hover:scale-110 transition-transform\"\n            aria-label={t('buttons.closeModal')}\n          >\n            <X className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\n          </button>\n\n          {/* Alert Icon */}\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"glass-orange p-4 rounded-full\">\n              <AlertCircle className=\"w-8 h-8 text-orange-600 dark:text-orange-400\" />\n            </div>\n          </div>\n\n          {/* Title */}\n          <h3 className=\"text-xl font-bold text-center text-gray-900 dark:text-white mb-4\">\n            {t('cart.removeConfirmationTitle')}\n          </h3>\n\n          {/* Product Info */}\n          <div className=\"flex items-center gap-4 p-4 glass rounded-2xl mb-6\">\n            <img\n              src={getProductImage(product.image_url)}\n              alt={title}\n              className=\"w-16 h-16 object-cover rounded-xl\"\n            />\n            <div className=\"flex-1 min-w-0\">\n              <h4 className=\"font-semibold text-gray-900 dark:text-white line-clamp-1\">\n                {title}\n              </h4>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                ${product.price.toFixed(2)}\n              </p>\n            </div>\n          </div>\n\n          {/* Message */}\n          <p className=\"text-center text-gray-600 dark:text-gray-400 mb-6\">\n            {t('cart.removeConfirmationMessage')}\n          </p>\n\n          {/* Buttons */}\n          <div className=\"flex gap-3\">\n            <button\n              onClick={onClose}\n              className=\"flex-1 btn-glass text-center\"\n            >\n              {t('buttons.cancel')}\n            </button>\n            <button\n              onClick={handleConfirm}\n              className=\"flex-1 bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-3 rounded-2xl transition-all duration-300 hover:scale-105\"\n            >\n              {t('buttons.remove')}\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default RemoveItemModal;\n"
    },
    "ShippingBanner.tsx": {
      "path": "frontend/src/components/cart/ShippingBanner.tsx",
      "content": "/**\n * Shipping Banner Component\n * Shows progress towards free shipping\n */\n\nimport React from 'react';\nimport { Truck, Check } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\nimport { useCart } from '../../contexts/CartContext';\n\nconst ShippingBanner: React.FC = () => {\n  const { t } = useTranslation();\n  const { getSubtotal, isFreeShipping } = useCart();\n\n  const subtotal = getSubtotal();\n  const freeShippingThreshold = 100;\n  const remaining = freeShippingThreshold - subtotal;\n  const progress = Math.min((subtotal / freeShippingThreshold) * 100, 100);\n\n  // If already qualified for free shipping\n  if (isFreeShipping()) {\n    return (\n      <div className=\"glass-card p-4 mb-6 animate-slide-down\">\n        <div className=\"flex items-center justify-center gap-3\">\n          <div className=\"glass-orange p-2 rounded-full\">\n            <Check className=\"w-5 h-5 text-green-500\" />\n          </div>\n          <p className=\"font-semibold text-green-600 dark:text-green-400\">\n            ðŸŽ‰ {t('shipping.qualified')}\n          </p>\n          <Truck className=\"w-6 h-6 text-green-500 animate-bounce-slow\" />\n        </div>\n      </div>\n    );\n  }\n\n  // If close to free shipping\n  return (\n    <div className=\"glass-card p-4 mb-6 animate-slide-down\">\n      <div className=\"flex items-center gap-3 mb-3\">\n        <div className=\"glass-orange p-2 rounded-full\">\n          <Truck className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\n        </div>\n        <p className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n          Add <span className=\"text-orange-600 dark:text-orange-400\">${remaining.toFixed(2)}</span> more for <span className=\"text-green-600\">{t('shipping.free')}</span>! ðŸšš\n        </p>\n      </div>\n\n      {/* Progress Bar */}\n      <div className=\"relative h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\n        <div\n          className=\"absolute top-0 left-0 h-full bg-gradient-to-r from-orange-500 to-orange-600 rounded-full transition-all duration-500 ease-out\"\n          style={{ width: `${progress}%` }}\n        >\n          <div className=\"absolute inset-0 bg-white/20 shimmer\" />\n        </div>\n      </div>\n\n      {/* Progress Text */}\n      <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-2 text-center\">\n        {t('shipping.progressText', { progress: progress.toFixed(0) })}\n      </p>\n    </div>\n  );\n};\n\nexport default ShippingBanner;\n"
    }
  }
}